<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator fichier svg</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>

<body onLoad="checkValue()">
    <div class="container">
        <div id="content-header"></div>
        <script id="header-template" type="text/x-handlebars-template">
          {{> header}}
        </script>
        <div class="row" style="margin-top:15px;" align="center">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Application</h5>
                    </div>
                    <div class="card-body">
                        <div id="Formulaire">
                            <div class="form-group"><label class="d-block float-left" style="width:150px;">Type de planche :</label><select onchange="getSelectedPlankIndex(); app1_close_or_open_box();" id="selectP"></select>
                                <button
                                class="btn btn-primary" type="button" style="margin-left:16px;" data-toggle="modal" data-target="#myModal">+</button>
                            </div>
                            <div class="form-group"><label class="d-block float-left" style="width:150px;">Face(s) de la boîte :</label>
							<select onchange="selectedModel(); app1_close_or_open_box();" id="selectP2">
								<optgroup id="groupWithTop" label="With_Top">
									<option value="1">Face 1</option>
									<option value="2">Face 2</option>
									<option value="2">Face 3</option>
									<option value="4">Face 4</option>
									<option value="5">Face 5</option>
									<option value="6">Face 6</option>
									<option value="7" id="groupWithTop_selected">Toutes faces en colonne</option>
									<option value="8">Toutes faces en ligne</option>
									<option value="9">Toutes faces x2</option>
								</optgroup>
								<optgroup id="groupWithoutTop" label="Without_Top">
									<option value="1">Face 1</option>
									<option value="2">Face 2</option>
									<option value="3">Face 3</option>
									<option value="4">Face 4</option>
									<option value="5">Face 5</option>
									<option value="6"  id="groupWithoutTop_selected">Toutes faces</option>
									<option value="7">Toutes faces x2</option>
									<option value="8">Toutes faces x4</option>
								</optgroup></select>
                            </div>
                            <div
                            class="form-group"><label class="d-block float-left" style="width:200px;">Longueur (mm) :&nbsp;</label><input onkeyup ="app1_close_or_open_box()" id="longueur" type="number" placeholder="mm" value="300"></div>
                            <div class="form-group"><label class="d-block float-left" style="width:200px;">Largeur (mm) :&nbsp;</label><input onkeyup ="app1_close_or_open_box()" id="largeur" type="number" placeholder="mm" value="150"></div>
                            <div class="form-group"><label class="d-block float-left" style="width:200px;">Hauteur (mm) :&nbsp;</label><input onkeyup ="app1_close_or_open_box()" id="hauteur" type="number" placeholder="mm" value="150"></div>
                            <div class="form-group"><label class="d-block float-left" style="width:200px;">Encoches (mm) :&nbsp;</label><input onkeyup ="app1_close_or_open_box()" id="encoche" type="number" placeholder="mm" value="10"></div>

                            <div class="form-group"><label class="d-block float-left" style="width:200px;">Boite fermée :</label><input onchange="onCheckboxChange(); app1_close_or_open_box();" type="checkbox" id="formCheck-1"/></div>

                            <div class="form-group"><label class="d-block float-left" style="width:200px;">Afficher planche :</label><input onchange="svg_builder.show_layer2()" type="checkbox" id="formCheck-2"/></div>

                            <div class="form-group"><label class="d-block float-left" style="width:200px;">Mesure interne :</label><input onchange="app1_close_or_open_box();" type="checkbox" id="formCheck-3"/></div>

                            <button class="btn btn-primary" type="button" onclick="saveModelJson()" style="margin:0px;margin-right:15px;">Enregistrer les paramètres</button>
                            <button class="btn btn-primary" type="button" onclick="document.getElementById('fileid').click();" style="margin:0px;margin-right:15px;">Restaurer les paramètres</button>
                            <input onchange="fileChangeEvent()" id='fileid' accept=".json" type='file' hidden/>
                            <button id="genButton" class="btn btn-primary" type="button" onclick="app1_close_or_open_box(true)" >Télécharger la boite</button></div>
                            <a hidden id="json" href=""></a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div>
                        <ul class="nav nav-tabs">
                            <li class="nav-item"><a class="nav-link active" role="tab" data-toggle="tab" href="#tab-1">Documentation</a></li>
                            <li class="nav-item"><a id="previsualisation" class="nav-link" role="tab" data-toggle="tab" href="#tab-2">Prévisualisation</a></li>
                            <li class="nav-item"><a class="nav-link" role="tab" data-toggle="tab" href="#tab-3">Infos</a></li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane active" role="tabpanel" id="tab-1">
								</br>
                                <img id="myImg" src="assets/img/opened_closed_box/closed_box_labelled.JPG" style="width:100%;">
                                <p class="text-justify"><br>Ce formulaire permet de générer le plan de découpe d'une boîte fermée, ce plan est au format '.svg'. Le but principal est d'économiser au 
                                  maximum le passage du laser sur des mêmes bords de la boîte lors de la découpe, mais aussi de minimiser les chutes de bois pour permettre une éventuelle réutilisation
                                  de certaines chutes de bois. Vous pouvez choisir plusieurs modes de découpe en fonction de vos paramètres : par exemple vous pouvez découper une boîte entière, 
                                  ou deux boîte entière, ou un sous-ensemble, ou simplement un des morceaux / côtés de la boîte.<br><br></p>
                              </div>
                              <div class="tab-pane" role="tabpanel" id="tab-2">
								 </br>
                                 <a id="filesvg" >
                                 </a>
                                 <?xml version="1.0" encoding="UTF-8" standalone="no"?>
                                 <svg
									 xmlns:osb="http://www.openswatchbook.org/uri/2009/osb"
									 xmlns:dc="http://purl.org/dc/elements/1.1/"
									 xmlns:cc="http://creativecommons.org/ns#"
									 xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
									 xmlns:svg="http://www.w3.org/2000/svg"
									 xmlns="http://www.w3.org/2000/svg"
									 xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
									 xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
									 width="100%"
									 height="100%"
									 version="1.1"
									 id="svg"
									 inkscape:version="0.92.3 (2405546, 2018-03-11)"
									 sodipodi:docname="inkscape1test.svg"
									 stroke="#ff0000" fill="#ffffff" fill-opacity="0">
									 <defs id="defs3727">
										 <linearGradient
										 inkscape:collect="always"
										 id="linearGradient4578"
										 osb:paint="gradient">
											 <stop
											 style="stop-color:#000000;stop-opacity:1;"
											 offset="0"
											 id="stop4574" />
											 <stop
											 style="stop-color:#000000;stop-opacity:0;"
											 offset="1"
											 id="stop4576" />
										 </linearGradient>
									 </defs>
									 <sodipodi:namedview
									 id="base"
									 pagecolor="#ffffff"
									 bordercolor="#666666"
									 borderopacity="1.0"
									 inkscape:pageopacity="0.0"
									 inkscape:pageshadow="2"
									 inkscape:zoom="0.7"
									 inkscape:cx="280.75598"
									 inkscape:cy="674.9179"
									 inkscape:document-units="mm" 
									 units="mm"
									 inkscape:current-layer="layer1"
									 showgrid="false"
									 inkscape:window-width="1600"
									 inkscape:window-height="837"
									 inkscape:window-x="-8"
									 inkscape:window-y="-8"
									 inkscape:window-maximized="1" />
									 <metadata
									 id="metadata3730">
									 <rdf:RDF>
										 <cc:Work
										 rdf:about="">
											 <dc:format>image/svg+xml</dc:format>
											 <dc:type
											 rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
											 <dc:title></dc:title>
										</cc:Work>
									 </rdf:RDF>
									 </metadata>
									 <g id="svgLayer1" inkscape:label="Calque 1" inkscape:groupmode="layer">
										 <!-- your path goes here my dear -->
									 </g>
									 <g id="svgLayer2" inkscape:label="Calque 2" inkscape:groupmode="layer" opacity="0">
										 <!-- your path goes here my dear -->
									 </g>
								</svg>
     </div>
     <div class="tab-pane" role="tabpanel" id="tab-3">
        <p><br> <img id="img_shema_boite_ouverte" src="assets/img/opened_closed_box/scheme_opened_box.png" alt="scheme_opened_box" height="100%" width="100%" >
				<img id="img_shema_boite_ferme" src="assets/img/opened_closed_box/scheme_closed_box.png" alt="scheme_closed_box" height="100%" width="100%" ></p>
    </div>
</div>
</div>
</div>
</div>
</div>
<div id="myModal" role="dialog" tabindex="-1" class="modal fade">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Ajout de planche</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div>
                <div class="modal-body">
                    <p>Entrez les dimension du support sur lequel vous souhaitez découper votre boite
                    (cela rajoutera des planches provisoirement)</p>
                    <div class="form-group"><label>Nom :</label><input onkeyup ="checkValueModal()" id='pName' type="text" /></div>
                    <div class="form-group"><label>Longueur (mm) :</label><input onkeyup ="checkValueModal()" id='pLenght' type="number" placeholder="mm" /></div>
                    <div class="form-group"><label>Largeur (mm) :</label><input onkeyup ="checkValueModal()" id='pWidth' type="number" placeholder="mm" /></div>
                    <div class="form-group"><label>Epaisseur (mm) :</label><input onkeyup ="checkValueModal()" id='pThick' type="number" placeholder="mm" /></div>
                </div>
                <div class="modal-footer"><button class="btn btn-light" type="button" data-dismiss="modal">Close</button><button id="pButton" onclick="addPlank()" data-dismiss="modal" class="btn btn-primary" type="button">Save</button></div>
            </div>
        </div>
    </div>
    <div id="myModal2" class="modal-image"> 

      <!-- The Close Button --> 
      <button onclick="modal.style.display = 'none'" class="close" type="button" data-dismiss="modal-image">&times;</button> 

      <!-- Modal Content (The Image) --> 
      <img class="modal-content-image" id="img01"> 

      <!-- Modal Caption (Image Text) --> 
      <div id="caption"></div> 
  </div> 

  <div id="content-footer"></div>
  <script type="text/javascript">
    
  </script>
  <script id="footer-template" type="text/x-handlebars-template">
    {{> footer}}
  </script>

  <script src="handlebars-v4.0.11.js"></script>
  <script src="templates/header.js"></script>
  <script src="templates/footer.js"></script>
  <script src="ihm.js"></script> 
  <script src="generate_svg_boxes.js"></script> 
  <script src="assets/js/jquery.min.js"></script> 
  <script src="assets/bootstrap/js/bootstrap.min.js"></script> 

  
</body>

</html>